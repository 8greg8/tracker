SET(TRACKER_LIB "tracker_tracker")
SET(TRACKER_LIBS ${TRACKER_LIB} PARENT_SCOPE)
SET(TRACKER_INCLUDE_DIRS ${CMAKE_CURRENT_SOURCE_DIR} PARENT_SCOPE)
SET(TRACKER_LIBRARY_DIRS ${CMAKE_CURRENT_SOURCE_DIR} PARENT_SCOPE)


FILE(GLOB CPP *.cpp)
FILE(GLOB HPP *.hpp)


ADD_LIBRARY(${TRACKER_LIB}
    ${CPP} ${HPP}
)

SET_TARGET_PROPERTIES(${TRACKER_LIB} PROPERTIES 
        VERSION "${PROJECT_VERSION}"
        SOVERSION "${PROJECT_VERSION_MAJOR}"
        PUBLIC_HEADER "${HPP}"
)

TARGET_INCLUDE_DIRECTORIES(${TRACKER_LIB} 
    PRIVATE 
        ${UTIL_INCLUDE_DIRS}
        ${CORE_INCLUDE_DIRS}
)

TARGET_LINK_LIBRARIES(${TRACKER_LIB} 
    ${OpenCV_LIBS} 
    ${UTIL_LIBS}
)

INSTALL(TARGETS ${TRACKER_LIB}
    LIBRARY DESTINATION "${CMAKE_INSTALL_LIBDIR}"
    ARCHIVE DESTINATION "${CMAKE_INSTALL_LIBDIR}" # for static lib    
    PUBLIC_HEADER DESTINATION "${CMAKE_INSTALL_INCLUDEDIR}"
)
message("Tracker lib installed.")